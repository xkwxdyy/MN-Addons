# MNTask 功能指南

MNTask 是一个强大的 MarginNote 任务管理插件，基于 OKR 理念设计，提供了完整的任务创建、管理、筛选和分析功能。

## 📋 目录

1. [核心概念](#核心概念)
2. [任务类型系统](#任务类型系统)
3. [任务状态管理](#任务状态管理)
4. [今日任务系统](#今日任务系统)
5. [任务筛选与排序](#任务筛选与排序)
6. [批量操作功能](#批量操作功能)
7. [看板管理](#看板管理)
8. [任务分析与建议](#任务分析与建议)
9. [快捷操作](#快捷操作)
10. [使用技巧](#使用技巧)

## 核心概念

### 任务卡片格式
```
【类型｜状态】任务内容
```
- **类型**：目标、关键结果、项目、动作
- **状态**：未开始、进行中、已完成、已归档
- **路径**：显示任务层级关系（如：目标 >> 项目）

### 任务字段系统
每个任务卡片包含多个字段：
- **信息**：主字段，包含任务的基本信息
- **启动**：动作类型任务的启动方式（应用/URL）
- **所属**：链接到父任务
- **状态子字段**：📅 今日、🔥 优先级、⏰ 计划时间等

## 任务类型系统

### 1. 目标 (Objective) 🎯
- **用途**：定义要实现的大方向
- **示例**：【目标｜未开始】提升产品用户体验
- **特点**：
  - 通常是季度或年度目标
  - 包含多个关键结果
  - 颜色：深绿色

### 2. 关键结果 (Key Result) 📊
- **用途**：衡量目标完成度的具体指标
- **示例**：【关键结果｜进行中】用户满意度提升到 90%
- **特点**：
  - 必须可量化
  - 有明确的完成标准
  - 颜色：橙色

### 3. 项目 (Project) 📁
- **用途**：实现关键结果的具体项目
- **示例**：【项目｜进行中】重构用户界面
- **特点**：
  - 包含多个具体动作
  - 有明确的交付物
  - 颜色：蓝色

### 4. 动作 (Action) ⚡
- **用途**：可执行的具体任务
- **示例**：【动作｜未开始】设计新的导航栏
- **特点**：
  - 可以直接执行
  - 支持启动链接（应用/URL）
  - 颜色：黄色

## 任务状态管理

### 状态流转
```
未开始 😴 → 进行中 🔥 → 已完成 ✅ → 已归档 📦
```

### 状态说明
1. **未开始**：任务已创建但尚未开始
2. **进行中**：正在执行的任务
3. **已完成**：任务已完成但可能需要回顾
4. **已归档**：完全结束，存档备查

### 状态切换
- **单击**：向前切换状态（未开始→进行中→已完成→已归档）
- **长按菜单**：可以选择"退回上一个状态"

### 状态联动
- 子任务变为"进行中"时，父任务自动变为"进行中"
- 所有子任务完成时，系统会提示是否完成父任务

## 今日任务系统

### 标记今日任务
1. **单个标记**：选中任务 → 点击今日任务按钮
2. **批量标记**：选中多个任务 → 批量操作 → 批量标记为今日任务

### 今日任务字段
- **📅 今日**：标记为今日要完成的任务
- **🔥 优先级**：高/中/低
- **⏰ 计划时间**：如 09:00、14:30

### 今日看板
- 自动收集所有标记为"今日"的任务
- 智能排序：优先级高的、时间早的排在前面
- 支持一键刷新，更新看板内容

## 任务筛选与排序

### 预设筛选器
1. **🔥 重要且紧急**：高优先级 + 紧急度70分以上
2. **📅 今日任务**：标记了今日标签的任务
3. **⏰ 即将到期**：3天内到期的任务
4. **⚠️ 已逾期**：超过截止日期未完成
5. **📌 高优先级未完成**：高优先级且未完成的任务
6. **📊 本周任务**：本周内需要完成的任务
7. **🔍 停滞任务**：7天未更新的进行中任务
8. **✅ 待归档任务**：已完成但未归档的任务

### 自定义筛选
可以组合多个条件：
- 状态：未开始/进行中/已完成/已归档
- 优先级：高/中/低
- 标签：自定义标签
- 时间范围：指定起止日期
- 层级类型：顶层/叶子/父任务/独立任务

### 智能排序
**综合评分算法**：
- 优先级权重：30%
- 紧急度权重：30%
- 重要性权重：20%
- 进度权重：20%

**其他排序方式**：
- 按优先级排序
- 按日期排序（最早的在前）
- 按状态排序（进行中优先）
- 按层级排序（目标→动作）

## 批量操作功能

### 基础批量操作
1. **批量更新状态**：统一修改多个任务的状态
2. **批量设置优先级**：统一设置高/中/低优先级
3. **批量标记今日任务**：快速规划今日工作
4. **批量移动到看板**：整理任务到不同看板

### 高级批量操作
1. **批量添加标签**：为任务分组打标签
2. **批量设置截止日期**：统一设置 deadline
3. **批量归档已完成**：清理已完成的任务
4. **批量解除父任务链接**：解除任务间的关系

### 操作确认机制
- 重要操作会要求确认
- 显示操作结果：成功/失败数量
- 错误任务会记录原因

## 看板管理

### 看板类型
1. **目标看板**：存放所有目标
2. **项目看板**：存放所有项目
3. **动作看板**：存放具体动作
4. **已完成看板**：存放已完成任务
5. **今日看板**：存放今日任务

### 看板配置
在设置面板中可以：
- 绑定看板笔记
- 聚焦到指定看板
- 清空看板绑定
- 粘贴笔记 ID

### 看板使用流程
1. 创建一个笔记作为看板
2. 在设置中绑定该笔记
3. 任务会自动归类到对应看板
4. 支持手动移动任务到看板

## 任务分析与建议

### 任务统计
自动统计：
- 任务总数
- 各状态任务数量
- 各优先级分布
- 逾期任务数
- 今日到期数

### 智能建议
系统会分析并建议：
1. **紧急任务**：需要立即处理的任务
2. **可开始任务**：没有依赖，可以开始的任务
3. **需回顾任务**：长时间停滞的任务
4. **可归档任务**：已完成可以归档的任务
5. **需规划任务**：高优先级但无日期的任务

### 任务依赖检查
- 自动检测任务间的依赖关系
- 提示哪些任务被阻塞
- 建议先完成的前置任务

## 快捷操作

### 工具栏按钮
1. **任务管理**：单击智能制卡，长按显示完整菜单
2. **进度追踪**：单击切换状态，长按显示状态菜单
3. **今日任务**：单击标记今日，长按显示时间管理菜单
4. **快速筛选**：单击进入筛选器，长按显示筛选菜单

### 键盘快捷键
（需要在 MarginNote 中设置）
- 快速创建任务
- 切换任务状态
- 标记今日任务

## 使用技巧

### 1. 任务规划流程
```
创建目标 → 分解为关键结果 → 创建项目 → 拆分为动作
```

### 2. 日常使用流程
```
早上：筛选本周任务 → 标记今日任务 → 设置优先级
工作中：更新任务状态 → 记录进展
晚上：回顾今日完成 → 归档已完成 → 规划明日
```

### 3. 周期性整理
- **每日**：更新今日看板，归档完成任务
- **每周**：分析任务报告，调整优先级
- **每月**：回顾目标进展，调整关键结果

### 4. 最佳实践
1. **任务粒度**：动作应该是 1-4 小时可完成的
2. **及时更新**：状态变化及时更新
3. **定期清理**：已完成的任务及时归档
4. **合理分类**：充分利用标签系统
5. **依赖管理**：明确标注任务间的依赖关系

### 5. 注意事项
- 任务标题不要过长，详细信息放在评论中
- 重要任务设置截止日期
- 利用颜色区分不同类型的任务
- 定期使用任务分析功能，及时调整计划

## 更新日志

### v1.2.0
- 新增"已归档"状态
- 实现今日任务系统
- 添加智能筛选引擎
- 实现批量操作功能
- 添加任务分析与建议

### v1.1.0
- 基础任务管理功能
- OKR 层级系统
- 看板管理
- 状态切换

---

💡 **提示**：MNTask 会持续更新，建议关注项目更新以获取最新功能。